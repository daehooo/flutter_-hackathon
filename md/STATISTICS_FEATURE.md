# 통계 화면 - 감정 시각화 기능

## 📋 기능 개요
사용자의 월별 감정 기록을 Scatter Plot 차트로 시각화하여 감정 패턴과 트렌드를 확인할 수 있는 화면입니다.

## 🏗️ 아키텍처
**MVC 패턴** 기반으로 구성되어 있습니다:
- **Model**: `statistics_data.dart` - 통계 데이터 모델 및 더미 데이터
- **View**: `statistics_screen.dart` - 차트 UI 및 월별 네비게이션
- **Controller**: 홈 화면의 `EmotionController`와 연동

## 📊 시각화 특징

### 차트 구성 (fl_chart 라이브러리 사용)
- **차트 타입**: Scatter Plot (산점도)
- **X축**: 날짜 (1일 ~ 말일)
- **Y축**: 클릭 횟수 (감정 기록 빈도)
- **데이터 포인트**: 9가지 감정별 색상 구분된 원형 점

### 월별 네비게이션
- **AppBar 제목**: "M월" 형태로 현재 선택된 월 표시
- **이전/다음 버튼**: 좌우 화살표로 월 단위 이동
- **제한사항**: 현재 월 이후로는 이동 불가

### 감정별 색상 매핑
```dart
감정별 고정 색상:
😊 (기쁨) → 주황색 (Colors.orange)
😍 (사랑) → 핑크색 (Colors.pink)
🤗 (따뜻함) → 노란색 (Colors.yellow)
😐 (평범) → 회색 (Colors.grey)
🤔 (생각) → 보라색 (Colors.purple)
😌 (평온) → 초록색 (Colors.green)
😢 (슬픔) → 파란색 (Colors.blue)
😡 (화남) → 빨간색 (Colors.red)
😰 (불안) → 남색 (Colors.indigo)
```

## 🎨 UI/UX 특징

### 차트 컨테이너
- **배경**: `AppColors.surface` 화이트 배경
- **모서리**: 16px 둥근 모서리
- **그림자**: 미세한 그림자 효과로 깊이감 표현
- **패딩**: 내부 20px 여백

### 축 라벨링
- **X축**: 날짜 + 요일 표시 (예: "15\n금")
- **Y축**: 클릭 횟수 + "회" 단위 표시
- **간격**: X축 5일, Y축 2회 간격으로 표시

### 툴팁 기능
- **터치 인터랙션**: 데이터 포인트 터치 시 상세 정보 표시
- **표시 내용**: 감정 이모지, 이름, 클릭 횟수, 날짜

### 범례(Legend)
- **위치**: 차트 하단
- **형태**: 색상 원형 + 감정 이모지 + 이름
- **레이아웃**: Wrap 위젯으로 자동 줄바꿈

## 🔧 기술적 구현

### 반응형 차트 크기
```dart
// 동적 차트 범위 계산
final maxCount = _currentMonthData.map((e) => e.count).reduce((a, b) => a > b ? a : b);
final daysInMonth = DateTime(_selectedDate.year, _selectedDate.month + 1, 0).day;
```

### 요일 계산 시스템
```dart
// 해당 월의 모든 날짜별 요일 자동 계산
final weekdayLabels = List.generate(daysInMonth, (index) {
  final date = DateTime(_selectedDate.year, _selectedDate.month, index + 1);
  final weekdays = ['월', '화', '수', '목', '금', '토', '일'];
  return weekdays[date.weekday - 1];
});
```

### 더미 데이터 시스템
- **9월/10월 데이터**: 미리 정의된 샘플 데이터
- **다양한 패턴**: 실제 사용 패턴을 반영한 현실적 데이터
- **감정 분포**: 균형잡힌 다양한 감정 표현

## 📱 사용자 경험

### 직관적 네비게이션
- **명확한 월 표시**: AppBar에 현재 월 명시
- **쉬운 이동**: 좌우 화살표로 직관적 월 이동
- **시간적 제약**: 미래 월로의 이동 방지

### 풍부한 정보 표현
- **시각적 패턴**: 한눈에 파악 가능한 감정 트렌드
- **상세 정보**: 터치로 접근 가능한 구체적 데이터
- **색상 구분**: 감정별 고유 색상으로 쉬운 식별

### 빈 상태 처리
- **기록 없는 월**: "이 달에는 기록된 감정이 없습니다" 메시지
- **우아한 처리**: 차트 영역을 그대로 유지하며 안내 메시지 표시

## 🔄 데이터 흐름
1. **화면 진입** → 현재 월 데이터 로드
2. **월 변경** → `_updateCurrentMonthData()` 호출
3. **데이터 조회** → `StatisticsData.getDataForMonth()` 실행
4. **차트 렌더링** → fl_chart로 시각화
5. **사용자 인터랙션** → 툴팁 표시 및 상세 정보 제공

## 📈 분석 가능한 인사이트
- **감정 빈도**: 어떤 감정을 자주 기록하는지 파악
- **시간적 패턴**: 월 내에서 감정 변화 추이 관찰
- **감정 다양성**: 기록하는 감정의 폭과 균형 확인
- **특정 날짜**: 특별한 날의 감정 상태 회상

## 🎯 핵심 가치
- **시각성**: 숫자보다 직관적인 차트 표현
- **탐색성**: 월별 이동으로 시간적 비교 가능
- **상세성**: 필요시 구체적 정보 접근 가능
- **미적 완성도**: 아름다운 색상과 레이아웃으로 사용 동기 부여