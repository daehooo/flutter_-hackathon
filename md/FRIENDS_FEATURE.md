# 친구 화면 - 친구 감정 추적 기능

## 📋 기능 개요
친구들의 현재 감정 상태를 시각적으로 보여주는 소셜 기능 화면입니다. 각 친구는 부유하는 아바타로 표현되며, 감정 점수에 따른 색상과 애니메이션으로 현재 무드를 표현합니다.

## 🏗️ 아키텍처
**MVC 패턴** 기반으로 구성되어 있습니다:
- **Model**: `friend_model.dart` - 친구 데이터 구조 및 더미 데이터
- **View**: `friends_screen.dart` - 부유 애니메이션 UI 및 친구 아이템
- **Controller**: 현재는 정적 데이터, 향후 확장 가능한 구조

## 🎨 UI/UX 특징

### AppBar
- **제목**: "내친구들의 현재 무드"
- **스타일**: 중앙 정렬, 깔끔한 디자인
- **색상**: `AppColors.surface` 배경

### 부유 애니메이션 시스템
- **개별 제어**: 각 친구마다 독립적인 AnimationController
- **다양한 속도**: 1.8초 + (인덱스 × 150ms)로 차별화된 애니메이션 주기
- **다양한 범위**: 8.0 ~ 16.0px 범위의 상하 이동
- **자연스러운 시작**: 100ms 간격으로 순차적 애니메이션 시작
- **다양한 곡선**: `Curves.easeInOut` 및 `Curves.easeInOutSine` 혼용

### 친구 아이템 구성
1. **감정 말풍선** (상단)
   - 감정 이모지 + 점수 라벨
   - 감정 점수별 색상 구분
   - 둥근 모서리 디자인

2. **원형 아바타** (중앙)
   - 80x80 크기의 원형 컨테이너
   - 그라데이션 배경 (감정 점수 기반)
   - 이름 첫 글자 표시
   - 그림자 효과로 입체감 표현

3. **이름 라벨** (하단)
   - 반투명 흰색 배경
   - 4글자 초과 시 "..." 처리
   - 둥근 모서리 디자인

## 🌈 감정 점수 시스템

### 점수별 색상 매핑
```dart
8.5 이상: 밝은 초록 (#4CAF50) - "최고!"
7.0-8.4: 연한 초록 (#8BC34A) - "좋음"  
5.5-6.9: 주황색 (#FF9800) - "보통"
4.0-5.4: 진한 주황 (#FF5722) - "조금 힘듦"
4.0 미만: 빨간색 (#F44336) - "힘듦"
```

### 시각적 표현
- **말풍선 색상**: 감정 점수에 따른 배경색
- **아바타 그라데이션**: 같은 색상의 그라데이션 효과
- **그림자 색상**: 감정 색상과 일치하는 그림자

## 🔧 기술적 구현

### 다중 애니메이션 관리
```dart
// 친구별 독립적인 애니메이션 컨트롤러
List<AnimationController> _animationControllers;
List<Animation<double>> _floatingAnimations;

// 다양한 애니메이션 범위 설정
final animationRange = 8.0 + (i % 3) * 4.0; // 8.0, 12.0, 16.0
```

### 반응형 포지셔닝
```dart
// 화면 크기에 따른 동적 위치 계산
left: friend.x * (screenSize.width - 120),
top: friend.y * (screenSize.height - 200) + _floatingAnimations[index].value,
```

### 메모리 최적화
- **적절한 dispose**: 모든 AnimationController 해제
- **조건부 실행**: `mounted` 상태 확인 후 애니메이션 시작
- **지연 시작**: Future.delayed로 시스템 부하 분산

## 📱 사용자 경험

### 시각적 즐거움
- **부드러운 움직임**: 자연스러운 진자 운동
- **색상 하모니**: 감정에 따른 일관된 색상 시스템
- **입체적 표현**: 그림자와 그라데이션으로 깊이감

### 정보 전달력
- **직관적 상태**: 색상만으로도 친구 상태 파악 가능
- **구체적 라벨**: "최고!", "좋음" 등 명확한 상태 표현
- **감정 표현**: 이모지로 현재 대표 감정 표시

### 소셜 연결감
- **실시간 느낌**: 부유 애니메이션으로 살아있는 느낌
- **개성 표현**: 각 친구별 다른 위치와 애니메이션
- **친근함**: 이름 첫 글자로 개인화된 아바타

## 🔄 데이터 구조

### Friend 모델
```dart
class Friend {
  final String name;              // 친구 이름
  final String mostFrequentEmotion; // 최빈 감정 이모지
  final double emotionScore;      // 감정 점수 (0.0-10.0)
  final double x, y;             // 화면상 위치 (비율)
}
```

### 더미 데이터 특징
- **다양한 감정**: 9가지 감정 고르게 분포
- **현실적 점수**: 3.2 ~ 9.1 범위의 감정 점수
- **균형잡힌 배치**: 화면 전체에 고르게 분포된 위치

## 🚀 향후 확장 가능성

### 실시간 연동
- 실제 친구들의 감정 데이터와 연동
- 실시간 업데이트 시스템
- 푸시 알림 기능

### 인터랙션 강화
- 친구 아바타 터치 시 상세 정보
- 응원 메시지 보내기 기능
- 감정 히스토리 확인

### 소셜 기능
- 친구 추가/삭제 기능
- 그룹별 친구 관리
- 익명 감정 공유 모드

## 🎯 핵심 가치
- **소셜 연결**: 친구들과의 감정적 연대감 형성
- **시각적 즐거움**: 아름다운 애니메이션으로 사용 동기 부여  
- **직관성**: 복잡한 설명 없이도 이해 가능한 UI
- **개성 표현**: 각 친구의 고유한 특성 시각화